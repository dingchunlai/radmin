<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>和家网用户注册</title>
<meta name="keywords" content="家庭装修，室内装潢，房子装潢，房屋装修，室内装修设计图片，家居装修图片，家装效果图，室内装修效果图片，室内装饰效果图片，装修论坛">
<meta name="description" content="中国最大最专业的装修家居信息服务网站，主要包括家庭装修，室内装潢，房子装潢，房屋装修，室内装修设计图片，家居装修图片，家装效果图，室内装修效果图片 室内装饰效果图片，装修论坛等">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="robots" content="all" />
<meta name="author" content="linsongbo" />
<meta name="Copyright" content="Copyright©2005-2008 Hejia Net (shanghai) Information Technology Co. Ltd. All rights reserved." />
<link rel="stylesheet" rev="stylesheet" href="http://www.51hejia.com/css/newback/login.css" type="text/css" media="all" />
<script type="text/javascript" src="/javascripts/public2.js"></script>
<script type="text/javascript" src="http://js.51hejia.com/js/area_city.js"></script>
<script type="text/javascript">
document.domain="51hejia.com";
function StrLenthByByte(str)	//计算字符串的字节长度，即英文算一个，中文算两个字节
{
	var len;
	var i;
	len = 0;
	for (i=0;i<str.length;i++)
	{
		if (str.charCodeAt(i)>255) len+=2; else len++;
	}
	return len;
}
function blank_filter(str){		//过滤空格
	while (str.indexOf(" ")>=0||str.indexOf("　")>=0){
			str = str.replace(" ","").replace("　","");
	}
	return str;
}
function Show(id,i_id){
        var on_img="http://www.51hejia.com/images/Images_zhuce/Suo.gif";//打开时图片
        var off_img="http://www.51hejia.com/images/Images_zhuce/Zhan.gif";//隐藏时图片
        var obj=document.getElementById('c_'+id);
        if(obj.style.display=="none"){
                obj.style.display="";
        i_id.src=on_img;
        //将子菜单Id放入Cookies
        var curShow = readCookie('curShow');
        if(curShow!='')
        {
          var arr_curShow = curShow.split(',');
          var found = false;
          for(i=0;i<arr_curShow.length-1;i++)
          {
            if(arr_curShow[i].toString()==id) {found=true;}
          }
          if(!found){writeCookie('curShow',curShow+','+id,12)}
        }
        else {
          writeCookie('curShow',id,12)
        }
        //将子菜单Id放入Cookies End
        }else{
                obj.style.display="none";
        i_id.src=off_img;
        //将子菜单Id从Cookies中移除
        var curShow = readCookie('curShow');
        if(curShow!='')
        {
          var arr_curShow = curShow.split(',');
          for(i=0;i<arr_curShow.length;i++)
          {
            if(arr_curShow[i].toString()==id) {arr_curShow=arr_curShow.del(i--);}
          }
          curShow = arr_curShow.join(',');
          //alert(curShow);
          writeCookie('curShow',curShow,12)
        }
        //将子菜单Id从Cookies中移除 End
        }
}
function readCookie(name)
{
  var cookieValue = "";
  var search = name + "=";
  if(document.cookie.length > 0)
  {
    offset = document.cookie.indexOf(search);
    if (offset != -1)
    {
      offset += search.length;
      end = document.cookie.indexOf(";", offset);
      if (end == -1) end = document.cookie.length;
      cookieValue = unescape(document.cookie.substring(offset, end))
    }
  }
  return cookieValue;
}
function writeCookie(name, value, hours)
{
  var expire = "";
  if(hours != null)
  {
    expire = new Date((new Date()).getTime() + hours * 3600000);
    expire = "; expires=" + expire.toGMTString();
  }
  document.cookie = name + "=" + escape(value) + expire;
}
Array.prototype.del=function(n) {  //n表示第几项，从0开始算起。
//prototype为对象原型，注意这里为对象增加自定义方法的方法。
  if(n<0)  //如果n<0，则不进行任何操作。
    return this;
  else
    return this.slice(0,n).concat(this.slice(n+1,this.length));
}
window.onload = function a()
{
  var curShow = readCookie('curShow');
  var totalShow = 1;  //自己修改一共有多少个二级分类
  if(curShow!=''&&curShow!=null)
  {
    for(i=1;i<=totalShow;i++)
    {
      document.getElementById('c_'+i).display="none";
    }
    var arr_curShow;
    arr_curShow = curShow.split(',');
    for(i=0;i<=arr_curShow.length-1;i++)
    {
      if(arr_curShow[i]!=''){document.getElementById('c_'+arr_curShow[i]).style.display="";}
    }
  }
}
function check_email_format(email){
    var re = new RegExp("^[a-zA-Z0-9]+([\._-][a-zA-Z0-9]+)*@[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*(\.[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*)+$");
    if (email.toString().match(re)!=null){
        if (email.toString().match(re)[0]==email){
            return true;
        }
    }
    return false;
}
function check_email(){
    if (trim(reg_form.userbbsemail.value)!=''){
        reg_form.userbbsemail.value = blank_filter(reg_form.userbbsemail.value);
        if (check_email_format(reg_form.userbbsemail.value)){
            hideiframe_reg.location.href='/member/check_reg_email?email='+trim(reg_form.userbbsemail.value);
        }else{
            document.getElementById('reginfo').style.display='block';document.getElementById('reginfo').innerHTML='Email地址格式不正确!'; document.getElementById('reginfo').className='wrongtips';
        }
    }
}
function check_username(){
    if (trim(reg_form.username.value)!=''){
        reg_form.username.value = blank_filter(reg_form.username.value);
        if (StrLenthByByte(reg_form.username.value)<4){
            document.getElementById('reginfo').style.display='block';document.getElementById('reginfo').innerHTML='用户名必须长于4个字符(或两个中文)';document.getElementById('reginfo').className='wrongtips';
        }else{
            hideiframe_reg.location.href='/member/check_reg_username?username=' + EncodeURI(trim(reg_form.username.value));
        }

    }
}
function formCheck(f){
    if (trim(f.userbbsemail.value)==""){     
        f.userbbsemail.select();
        document.getElementById('reginfo').style.display='block'; document.getElementById('reginfo').innerHTML='请填写您的Email地址'; document.getElementById('reginfo').className='wrongtips';
        return false;
    }
    if (trim(f.username.value)==""){
        f.username.select();
        document.getElementById('reginfo').style.display='block';document.getElementById('reginfo').innerHTML='请填写您的用户名';document.getElementById('reginfo').className='wrongtips';
        return false;
    }
    if (f.gender[0].checked==false&&f.gender[1].checked==false){
        document.getElementById('reginfo').style.display='block';document.getElementById('reginfo').innerHTML='性别必须选择';document.getElementById('reginfo').className='wrongtips';
        return false;
    }else{
       document.getElementById('reginfo').style.display='block';document.getElementById('reginfo').innerHTML='请选择性别';document.getElementById('reginfo').className='tips1';
    }
    if (f.userpassword.value.length<6){
        f.userpassword.select();
        document.getElementById('reginfo').style.display='block';document.getElementById('reginfo').innerHTML='密码必须长于6位字符';document.getElementById('reginfo').className='wrongtips';
        return false;
    }else{
     document.getElementById('reginfo').style.display='block';document.getElementById('reginfo').innerHTML='密码可以使用';document.getElementById('reginfo').className='tips1';
    }
    if (f.userpassword.value!=f.userpasswordconfirm.value){
        f.userpasswordconfirm.select();
        document.getElementById('reginfo').style.display='block';document.getElementById('reginfo').innerHTML='确认密码必须与密码保持一致';document.getElementById('reginfo').className='wrongtips';
        return false;
    }else{
       document.getElementById('reginfo').style.display='block';document.getElementById('reginfo').innerHTML='确认密码可以使用';document.getElementById('reginfo').className='tips1';
    }

    if (document.getElementById('reginfo').className=='wrongtips') return false;
    return true;
}
</script>
</head>
<body>
<div id="zhuce">
<div class="guanbi"><a href="javascript://" onclick="top.document.getElementById('Loading').style.display='none';" title="关闭" class="Divopop-nonenei"><img src="http://www.51hejia.com/css/newback/images/x.png" alt="关闭" align="absmiddle" /></a></div>
<form name="reg_form" target="hideiframe_reg" method="post" action="/member/ind_user_reg_save" onSubmit="return formCheck(this);">
<input type="hidden" name="huodongId" value="1"/>
<input type="hidden" name="forward" value="" />
<table width="100%" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr>
    <td align="center"><table width="100%" border="0" align="center" cellpadding="0" cellspacing="0">
      <tr>
        <td class="zhuce1"><img src="http://www.51hejia.com/images/Images_zhuce/Icon.gif" width="12" height="12" />设置您的帐户信息</td>
        </tr>
      </table>
      <table width="100%" border="0" cellspacing="0" cellpadding="0" class="reginfo">
        <tr>
          <td id="reginfo" class="regerror" height="16" style="display:none;">
            <img src="http://www.51hejia.com/css/newback/images/check_error.gif" width="16" height="16" align="absmiddle"> 用户名已经被他人使用
          </td>
        </tr>
      </table>
      <table width="100%" border="0" cellspacing="0" cellpadding="0" class="reginfo">
        <tr>
          <td width="50%" class="zhuce2"><span>*</span> E-Mail：<br>
            <input class="zhuce3" name="userbbsemail" type="text" onBlur="check_email();" /></td>
          <td class="zhuce2"><span>*</span> 用户名：(用户名,长度在4-16位之间)<br>
            <input class="zhuce3" name="username" type="text" onblur="check_username();" /></td>
        </tr>
        <tr>
          <td class="zhuce2"><span>*</span> 密码：<br>
<input class="zhuce3" name="userpassword" type="password" /></td>
          <td class="zhuce2"><span>*</span> 确认密码：<br>
<input class="zhuce3" name="userpasswordconfirm" type="password" /></td>
        </tr>
        <tr>
          <td class="zhuce2"><span>*</span> 性别：<br>
			<input name="gender" type="radio" value="先生" />先生　
            <input name="gender" type="radio" value="小姐" />小姐</td>
          <td class="zhuce2"><span></span> 地区：(请选择您所在的地区)<br>
<select name="area" onchange="change_area(this.value);">
              <option value="">省份</option>
              <SCRIPT LANGUAGE="JavaScript">
                      for (var i=0;i<area_text.length;i++)
                      {
                              document.write("<option value='" + area_value[i] + "'>" + area_text[i] + "</option>");
                      }
              </SCRIPT>
              </select>
            <select name="city" id="city">
              <option value="">城市</option>
              </select></td>
        </tr>
      </table>
      <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" class="zhuce4">
        <tr>
          <td height="1" background="http://www.51hejia.com/images/Images_zhuce/Line_Gray.gif"></td>
          </tr>
        </table>
      <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0">
        <tr>
          <td class="zhuce1"><img src="http://www.51hejia.com/images/Images_zhuce/Icon.gif" width="12" height="12" />选填内容</td>
          </tr>
        </table>
      <table width="100%" border="0" cellspacing="0" cellpadding="0" class="reginfo">
        <tr>
          <td width="50%" class="zhuce2">手机/固定电话：<br><input type="text" name="userBbsTel" class="zhuce3" /></td>
          <td class="zhuce2">您对哪些信息感兴趣：<br>
            <input type="checkbox" name="repairEnjoy1" value="装潢公司" />装潢公司<input type="checkbox" name="repairEnjoy2" value="装潢建材" />装潢建材<input type="checkbox" name="repairEnjoy3" value="家居软装" />家居软装</td>
        </tr>
        <tr>
          <td class="zhuce2">您计划在几个月内装修：<br>
<input type="radio" name="repairTime" value="1月" />1月<input type="radio" name="repairTime" value="3月" />3月<input type="radio" name="repairTime" value="6月" />6月<input type="radio" name="repairTime" value="6月以上" />6月以上</td>
          <td class="zhuce2">您计划的装修方式为：<br>
<input type="radio" name="repairType" value="全包" />全包<input type="radio" name="repairType" value="半包" />半包<input type="radio" name="repairType" value="清包" />清包</td>
        </tr>
      </table>
      <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0">
        <tr>
          <td class="zhuce11">

            <input type="button" value="登录" onclick="parent.open_userlogin_div();" />　　

            <input type="submit" name="Submit" value="同意服务条款，提交注册信息" />
            <a href="http://www.51hejia.com/aboutus/priv.html" target="_blank" class="zhuce8">注册条款</a></td>
          </tr>
      </table></td>
  </tr>
</table>
</form>
<iframe name="hideiframe_reg" style="display:none;" width="0" height="0"></iframe>
</div>
</body>
</html>